(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{528:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155);s(2115);var r=s(6766);let l=e=>{let{app:t,route:s}=e,l=t.coverImageUrl||t.cover_image_url,i=t.iconUrl||t.icon_url,n=t.name||t.app_name;return(0,a.jsxs)("div",{className:"group relative aspect-square bg-gray-200 rounded-2xl shadow-md overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl",onClick:()=>window.location.href=s,children:[l?(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(r.default,{src:l,alt:n||"App image",fill:!0,className:"object-cover"})}):i?(0,a.jsx)("div",{className:"relative w-full h-full flex items-center justify-center bg-gray-100",children:(0,a.jsx)("div",{className:"relative w-24 h-24",children:(0,a.jsx)(r.default,{src:i,alt:n||"App icon",fill:!0,className:"object-contain rounded-xl"})})}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-purple-500",children:(0,a.jsx)("span",{className:"text-white text-lg font-semibold",children:n})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-1",children:n}),(0,a.jsx)("p",{className:"text-sm opacity-90 line-clamp-2",children:t.description})]})})]})}},1886:(e,t,s)=>{"use strict";s.d(t,{w:()=>r});var a=s(9509);function r(){return a.env.NEXT_PUBLIC_BACKEND_URL2||"https://betbay-backend.vercel.app"}},3592:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),r=s(528),l=s(2115),i=s(6766),n=s(1886);let o=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),c=()=>(0,a.jsx)("div",{onClick:()=>window.location.href="/myapps/edit/new",className:"flex items-center justify-center aspect-square bg-gray-100 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer hover:bg-gray-200 transition-colors duration-300",children:(0,a.jsx)(o,{})});function d(){let[e,t]=(0,l.useState)([]),[s,o]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[h,u]=(0,l.useState)({username:"Username",profileImage:""});return(0,l.useEffect)(()=>{u({username:localStorage.getItem("betabay_username")||"Username",profileImage:localStorage.getItem("betabay_profile_image")||""})},[]),(0,l.useEffect)(()=>{!async function(){try{o(!0);let e=(0,n.w)(),s=localStorage.getItem("betabay_token"),a={};s&&(a.Authorization="Bearer ".concat(s));let r=await fetch("".concat(e,"/api/test-posts"),{method:"GET",headers:a});if(!r.ok)throw Error("Error fetching apps: ".concat(r.status));let l=await r.json();if(console.log("API response:",l),Array.isArray(l))t(l);else if(l&&"object"==typeof l){let e=Object.values(l).filter(e=>Array.isArray(e));e.length>0?t(e[0]):l.id?t([l]):t([])}else t([]);m(null)}catch(e){console.error("Failed to fetch apps:",e),m("Failed to load apps. Please try again."),t([])}finally{o(!1)}}()},[]),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans",children:(0,a.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[(0,a.jsxs)("header",{className:"flex items-center mb-8 sm:mb-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-300 rounded-full mr-4 sm:mr-6 overflow-hidden relative",children:h.profileImage?(0,a.jsx)(i.default,{src:h.profileImage,alt:h.username,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-blue-500 text-white text-xl font-bold",children:h.username.charAt(0).toUpperCase()})}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight",children:h.username})]}),(0,a.jsxs)("main",{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-6 sm:mb-8",children:"My Apps"}),s?(0,a.jsx)("div",{className:"text-center py-8",children:"Loading your apps..."}):d?(0,a.jsx)("div",{className:"text-center py-8 text-red-500",children:d}):(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 sm:gap-6",children:[Array.isArray(e)&&e.length>0?e.map(e=>(0,a.jsx)(r.A,{app:e,route:"/myapps/edit/".concat(e.id)},e.id)):(0,a.jsx)("div",{className:"col-span-full text-center py-8 text-gray-500",children:"Du hast noch keine Apps erstellt."}),(0,a.jsx)(c,{})]})]})]})})}},9612:(e,t,s)=>{Promise.resolve().then(s.bind(s,3592))}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(9612)),_N_E=e.O()}]);