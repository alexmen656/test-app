(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{1886:(e,s,a)=>{"use strict";a.d(s,{w:()=>t});var r=a(9509);function t(){return r.env.NEXT_PUBLIC_BACKEND_URL2||"https://betbay-backend.vercel.app"}},3477:(e,s,a)=>{Promise.resolve().then(a.bind(a,4173))},4173:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var r=a(5155),t=a(6766),l=a(2115),n=a(5695);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),c=e=>{let s=o(e);return s.charAt(0).toUpperCase()+s.slice(1)},d=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()},m=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,l.forwardRef)((e,s)=>{let{color:a="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...h}=e;return(0,l.createElement)("svg",{ref:s,...u,width:r,height:r,stroke:a,strokeWidth:n?24*Number(t)/Number(r):t,className:d("lucide",i),...!o&&!m(h)&&{"aria-hidden":"true"},...h},[...c.map(e=>{let[s,a]=e;return(0,l.createElement)(s,a)}),...Array.isArray(o)?o:[o]])}),x=(e,s)=>{let a=(0,l.forwardRef)((a,r)=>{let{className:t,...n}=a;return(0,l.createElement)(h,{ref:r,iconNode:s,className:d("lucide-".concat(i(c(e))),"lucide-".concat(e),t),...n})});return a.displayName=c(e),a},p=x("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),f=x("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),g=x("gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),b=x("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var v=a(1886);let j=()=>{var e,s,a,i,o,c,d,m,u,h,x,j,N,y;let w=(0,n.useRouter)(),{id:k}=(0,n.useParams)(),[_,C]=(0,l.useState)(null),[E,A]=(0,l.useState)(!0),[U,L]=(0,l.useState)(null),P=(null==_||null==(e=_.creator)?void 0:e.id)==="a135d7e0-3d80-4ed1-b80c-a2fc1444308f";return(0,l.useEffect)(()=>{(async()=>{A(!0),L(null);try{let e=(0,v.w)(),s=localStorage.getItem("betabay_token"),a={};s&&(a.Authorization="Bearer ".concat(s));let r=await fetch("".concat(e,"/api/test-posts/").concat(k),{method:"GET",headers:a});if(!r.ok)throw Error("Failed to fetch app data: ".concat(r.status));let t=await r.json();console.log("Fetched app detail data:",t),C(t)}catch(e){console.error("Error fetching app data:",e),L("Failed to load app data. Please try again.")}finally{A(!1)}})()},[k]),(0,r.jsxs)("div",{className:"h-screen overflow-y-auto flex-1 bg-gray-50 text-gray-800 animate-fade-in",children:[(0,r.jsxs)("button",{onClick:()=>{P?w.push("/myapps"):w.push("/")},className:"absolute top-6 left-6 z-20 flex items-center gap-2 rounded-full bg-white/70 px-4 py-2 text-sm font-semibold text-gray-800 shadow-md backdrop-blur-sm transition-all hover:bg-white hover:scale-105",children:[(0,r.jsx)(p,{size:16}),"Back to Explore"]}),E?(0,r.jsxs)("div",{className:"flex justify-center items-center h-64 mt-20",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),(0,r.jsx)("p",{className:"ml-3 text-lg text-gray-600",children:"Loading app data..."})]}):U?(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md m-10",children:[(0,r.jsx)("p",{className:"font-medium",children:"Error"}),(0,r.jsx)("p",{children:U}),(0,r.jsx)("button",{onClick:()=>w.push("/explore"),className:"mt-2 px-4 py-2 bg-red-100 text-red-800 rounded-md hover:bg-red-200",children:"Return to Explore"})]}):_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative h-56 md:h-72 w-full bg-gray-200",children:[(0,r.jsx)(t.default,{src:_.coverImageUrl||_.cover_image_url||"/vercel.svg",alt:"".concat(_.name||_.app_name||"App"," cover image"),layout:"fill",objectFit:"cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 p-8",children:(0,r.jsx)("h1",{className:"text-3xl md:text-5xl font-bold text-white shadow-lg",children:_.name||_.app_name||"Unnamed App"})})]}),(0,r.jsxs)("div",{className:"p-6 md:p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b border-gray-200 pb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(null==(s=_.creator)?void 0:s.avatarUrl)||(null==(a=_.user_info)?void 0:a.profile_image)?(0,r.jsx)(t.default,{src:(null==(i=_.creator)?void 0:i.avatarUrl)||(null==(o=_.user_info)?void 0:o.profile_image)||"/vercel.svg",alt:(null==(c=_.creator)?void 0:c.name)||(null==(d=_.user_info)?void 0:d.username)||"Creator",width:40,height:40,className:"rounded-full"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-600 font-bold",children:((null==(m=_.creator)?void 0:m.name)||(null==(u=_.user_info)?void 0:u.username)||"U").charAt(0)})}),(0,r.jsx)("span",{className:"font-semibold text-gray-600",children:(null==(h=_.creator)?void 0:h.name)||(null==(x=_.user_info)?void 0:x.username)||"Unknown Creator"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(null==(j=_.creator)?void 0:j.slackLink)&&(0,r.jsxs)("button",{onClick:()=>{var e;window.open(null==(e=_.creator)?void 0:e.slackLink,"_blank")},className:"flex items-center gap-2 rounded-md bg-gray-200 px-4 py-2 font-semibold text-gray-700 transition-colors hover:bg-gray-300",children:[(0,r.jsx)(f,{size:16})," Message"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-md bg-green-100 px-4 py-2",children:[(0,r.jsx)("span",{className:"font-bold text-green-700",children:"number"==typeof _.price?"$".concat(_.price):"number"==typeof _.test_price?"$".concat(_.test_price):_.price||_.test_price||"Free"}),_.coins&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600",children:[(0,r.jsx)(g,{size:16}),(0,r.jsx)("span",{className:"font-semibold",children:_.coins})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Description"}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:_.description||"No description available."})]}),(0,r.jsxs)("section",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Screenshots"}),(null==(N=_.screenshots)?void 0:N.length)||(null==(y=_.screenshot_urls)?void 0:y.length)?(0,r.jsx)("div",{className:"flex gap-4 overflow-x-auto",children:(_.screenshots||_.screenshot_urls||[]).map((e,s)=>(0,r.jsx)("div",{className:"relative h-200 min-w-[400px] rounded-lg bg-gray-200 overflow-hidden",children:(0,r.jsx)(t.default,{src:e,alt:"Screenshot ".concat(s+1),layout:"fill",objectFit:"cover",className:"transition-transform duration-300 hover:scale-105"})},s))}):(0,r.jsx)("p",{className:"text-gray-500",children:"No screenshots available."})]}),(_.videoUrl||_.youtube_link)&&(0,r.jsxs)("section",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Video"}),(0,r.jsx)("div",{className:"aspect-video w-full rounded-lg overflow-hidden bg-black",children:(0,r.jsx)("iframe",{src:_.videoUrl||_.youtube_link||"",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]}),(0,r.jsxs)("aside",{children:[(0,r.jsxs)("section",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[(0,r.jsx)("h3",{className:"font-bold mb-3",children:P?"Manage App":"Join Test"}),P?(0,r.jsx)("button",{onClick:()=>w.push("/myapps/edit/".concat(_.id)),className:"block w-full text-center rounded-md bg-green-600 py-2.5 font-semibold text-white transition-colors hover:bg-green-700",children:"Edit Profile"}):(0,r.jsx)("a",{href:"/test-instruction/".concat(_.id),className:"block w-full text-center rounded-md bg-blue-600 py-2.5 font-semibold text-white transition-colors hover:bg-blue-700",children:"Join"})]}),_.joinedTesters&&_.joinedTesters.length>0&&(0,r.jsxs)("section",{className:"mt-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold mb-3",children:["Joined Testers (",_.joinedTesters.length,")"]}),(0,r.jsx)("div",{className:"space-y-3",children:_.joinedTesters.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3 rounded-md bg-gray-100 p-2",children:[(0,r.jsx)(t.default,{src:e.avatarUrl,alt:e.name,width:32,height:32,className:"rounded-full"}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.name})]},e.id))})]}),_.reviews&&_.reviews.length>0&&(0,r.jsxs)("section",{className:"mt-8",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold mb-4",children:["Reviews (",_.reviews.length,")"]}),(0,r.jsx)("div",{className:"space-y-4",children:_.reviews.map(e=>(0,r.jsxs)("div",{className:"rounded-lg bg-white border border-gray-200 p-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("span",{className:"font-semibold",children:e.reviewerName}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,r.jsx)("span",{className:"font-bold",children:e.score}),(0,r.jsx)(b,{size:16,fill:"currentColor"})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.comment})]},e.id))})]})]})]})]})]}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64 mt-20",children:(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"App not found."})})]})}},5695:(e,s,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(s,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[766,441,684,358],()=>s(3477)),_N_E=e.O()}]);