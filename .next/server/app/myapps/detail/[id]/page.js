(()=>{var e={};e.id=103,e.ids=[103],e.modules={54:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(5239),a=s(8088),n=s(8170),o=s.n(n),i=s(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d={children:["",{children:["myapps",{children:["detail",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5419)),"/Users/sayan/Downloads/test-app-main-2/app/myapps/detail/[id]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/Users/sayan/Downloads/test-app-main-2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/sayan/Downloads/test-app-main-2/app/myapps/detail/[id]/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/myapps/detail/[id]/page",pathname:"/myapps/detail/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},184:(e,t,s)=>{Promise.resolve().then(s.bind(s,2424))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(687),a=s(3210),n=s.n(a);let o=({label:e,id:t,type:s="text",placeholder:a,value:n,onChange:o,as:i})=>(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-600 mb-1",children:e}),"textarea"===i?(0,r.jsx)("textarea",{id:t,name:t,rows:4,className:"w-full px-4 py-2 bg-gray-100 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:a,value:n,onChange:o}):(0,r.jsx)("input",{type:s,id:t,name:t,className:"w-full px-4 py-2 bg-gray-100 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:a,value:n,onChange:o})]});var i=s(474);let l=({path:e,className:t="h-6 w-6"})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:e})}),d=()=>(0,r.jsx)(l,{path:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",className:"h-8 w-8 text-gray-400"}),c=({label:e,id:t,onChange:s,previewUrl:a,multiple:n=!1})=>(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:e}),(0,r.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,r.jsxs)("div",{className:"space-y-1 text-center",children:[a?(0,r.jsx)(i.default,{src:a,alt:"Preview",className:"mx-auto object-cover rounded-md",width:96,height:96}):(0,r.jsx)(d,{}),(0,r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,r.jsxs)("label",{htmlFor:t,className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,r.jsx)("span",{children:"Upload a file"}),(0,r.jsx)("input",{id:t,name:t,type:"file",className:"sr-only",onChange:s,multiple:n,accept:"image/*"})]}),(0,r.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]});var p=s(6252),u=s(6189),m=s(9556);let g=()=>{let e=(0,u.useParams)(),t=(0,u.useRouter)(),s="new"!==e.id,l=p.O.find(t=>t.id===parseInt(e.id))??p.O[0],[d,g]=(0,a.useState)({name:l.name,description:l.description,videoUrl:l.videoUrl,iosLink:l.iosLink,androidLink:l.androidLink,googleGroupLink:l.googleGroupLink,testingInstruction:l.testingInstruction,price:parseInt(l.price),icon:null,coverImage:null,screenshots:[]}),[h,x]=(0,a.useState)({screenshots:[]});n().useEffect(()=>{s?("string"==typeof l.iconUrl&&x(e=>({...e,icon:l.iconUrl})),"string"==typeof l.coverImageUrl&&x(e=>({...e,coverImage:l.coverImageUrl})),Array.isArray(l.screenshots)?x(e=>({...e,screenshots:l.screenshots})):"string"==typeof l.screenshots&&x(e=>({...e,screenshots:[URL.createObjectURL(new Blob([l.screenshots],{type:"image/png"}))]})),g({name:"string"==typeof l.name?l.name:"",description:"string"==typeof l.description?l.description:"",videoUrl:"string"==typeof l.videoUrl?l.videoUrl:"",iosLink:"string"==typeof l.iosLink?l.iosLink:"",androidLink:"string"==typeof l.androidLink?l.androidLink:"",googleGroupLink:"string"==typeof l.googleGroupLink?l.googleGroupLink:"",testingInstruction:"string"==typeof l.testingInstruction?l.testingInstruction:"",price:"string"==typeof l.price?parseFloat(l.price):0,screenshots:[]})):g({name:"",description:"",videoUrl:"",iosLink:"",androidLink:"",googleGroupLink:"",testingInstruction:"",price:0,icon:null,coverImage:null,screenshots:[]})},[s,l.name]);let b=e=>{let{name:t,value:s,type:r}=e.target;g(e=>({...e,[t]:"number"===r?parseFloat(s):s}))},f=e=>{let{name:t,files:s}=e.target;if(s&&0!==s.length)if("screenshots"===t){let e=Array.from(s);g(t=>({...t,screenshots:[...t.screenshots,...e]}));let t=e.map(e=>URL.createObjectURL(e));x(e=>({...e,screenshots:[...e.screenshots,...t]}))}else{let e=s[0];g(s=>({...s,[t]:e})),x(s=>({...s,[t]:URL.createObjectURL(e)}))}},y=async e=>{if(e.preventDefault(),!d.name.trim())return void alert("App Name is required.");try{let e=(0,m.w)(),s={app_name:d.name,description:d.description,youtube_link:d.videoUrl,ios_link:d.iosLink,android_link:d.androidLink,google_group_link:d.googleGroupLink,testing_instruction:d.testingInstruction,test_price:d.price},r=localStorage.getItem("betabay_token"),a={"Content-Type":"application/json"};r&&(a.Authorization=`Bearer ${r}`);let n=await fetch(`${e}/api/test-posts`,{method:"POST",headers:a,body:JSON.stringify(s)});if(!n.ok)throw Error(`Error creating app: ${n.status}`);let o=await n.json();console.log("App created successfully:",o),t.push("/myapps")}catch(e){console.error("Failed to create app:",e),alert("Failed to create app. Please try again.")}};return(0,r.jsxs)("div",{className:"max-w-5xl mx-auto mb-10",children:[(0,r.jsxs)("header",{className:"my-10",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-800",children:s?"Edit App":"Post a New App"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:s?"Update the details below to modify your app information.":"Fill in the details below to get your app ready for testing."})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-12",children:[(0,r.jsxs)("div",{className:"p-8 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-6",children:"Core Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsx)(c,{label:"App Icon",id:"icon",onChange:f,previewUrl:h.icon})}),(0,r.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,r.jsx)(o,{label:"App Name",id:"name",placeholder:"My Awesome App",value:d.name,onChange:b}),(0,r.jsx)(o,{label:"Description",id:"description",as:"textarea",placeholder:"A brief, catchy description of your app.",value:d.description,onChange:b})]})]})]}),(0,r.jsxs)("div",{className:"p-8 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-6",children:"Media & Visuals"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(c,{label:"Cover Image",id:"coverImage",onChange:f,previewUrl:h.coverImage}),(0,r.jsx)(c,{label:"Screenshots (Select multiple)",id:"screenshots",onChange:f,multiple:!0}),h.screenshots.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:h.screenshots.map((e,t)=>(0,r.jsx)(i.default,{src:e,width:400,height:300,className:"w-full h-auto object-cover rounded-md",alt:`Screenshot ${t+1}`},t))}),(0,r.jsx)(o,{label:"YouTube Link (Optional)",id:"youtubeLink",placeholder:"https://youtube.com/watch?v=...",value:d.videoUrl??"",onChange:b})]})]}),(0,r.jsxs)("div",{className:"p-8 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-6",children:"Testing & Distribution"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(o,{label:"iOS Test Link (TestFlight)",id:"iosLink",placeholder:"https://testflight.apple.com/join/...",value:d.iosLink??"",onChange:b}),(0,r.jsx)(o,{label:"Android Test Link (Play Store)",id:"androidLink",placeholder:"https://play.google.com/apps/testing/...",value:d.androidLink??"",onChange:b}),(0,r.jsx)(o,{label:"Google Group Link (Optional)",id:"googleGroupLink",placeholder:"https://groups.google.com/g/...",value:d.googleGroupLink??"",onChange:b}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(o,{label:"Testing Instructions",id:"testingInstruction",as:"textarea",placeholder:"e.g., 'Log in with user: test@test.com, pass: 1234. Then, navigate to the dashboard and try creating a new project.'",value:d.testingInstruction,onChange:b})}),(0,r.jsx)(o,{label:"Price ($)",id:"price",type:"number",placeholder:"0.00",value:d.price,onChange:b})]})]}),(0,r.jsxs)("div",{className:"flex justify-end items-center gap-4 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{t.push("/myapps")},className:"px-6 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transform hover:scale-105 transition",children:s?"Update App":"Post App"})]})]})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5419:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/sayan/Downloads/test-app-main-2/app/myapps/detail/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/sayan/Downloads/test-app-main-2/app/myapps/detail/[id]/page.tsx","default")},6055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6189:(e,t,s)=>{"use strict";var r=s(5773);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9512:(e,t,s)=>{Promise.resolve().then(s.bind(s,5419))},9551:e=>{"use strict";e.exports=require("url")},9556:(e,t,s)=>{"use strict";function r(){return process.env.NEXT_PUBLIC_BACKEND_URL2||"https://betbay-backend.vercel.app"}s.d(t,{w:()=>r})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,523,658,26],()=>s(54));module.exports=r})();